<div class="p-4">
  <sc-title [title]="'Enquiry Items'"></sc-title>
</div>

<div class="ms-5 me-5 ps-5">
  <dx-data-grid
    [dataSource]="enquiries$ | async"
    [showBorders]="true"
    [columnAutoWidth]="true"
    [allowColumnReordering]="true"
    [filterRow]="{ visible: true }"
    [paging]="{ enabled: true, pageSize: 10 }"
    [groupPanel]="{ visible: true }"
    [grouping]="{ autoExpandAll: true }"
    [sorting]="{ mode: 'multiple' }"
    [selection]="{ mode: 'single' }"
  >
    <!-- Column Chooser -->
    <dxo-column-chooser [enabled]="true" mode="dragAndDrop"></dxo-column-chooser>
    <dxo-paging
      [enabled]="true"
      [pageSize]="5"
      [pageIndex]="1"
    >
    </dxo-paging>
    <dxo-pager
      [visible]="true"
      [displayMode]="'full'"
      [showInfo]="true"
      [showPageSizeSelector]="true"
      [allowedPageSizes]="[10, 20, 50]"
      infoText="Page #{0}. Total: {1} ({2} items)"
      [showNavigationButtons]="true">
    </dxo-pager>

    <!-- Load Panel -->
    <dxo-load-panel [enabled]="true"></dxo-load-panel>

    <!-- Define columns for Enquiry Data -->
    <dxi-column dataField="enquiryId" caption="Enquiry ID" [width]="100"></dxi-column>
    <dxi-column dataField="regarding" caption="Regarding" [width]="400"></dxi-column>
    <dxi-column dataField="requiresReply" caption="Requires Reply" [width]="150"></dxi-column>
    <dxi-column dataField="sender" caption="Sender" [width]="150"></dxi-column>
    <dxi-column dataField="enquiryDate" caption="Enquiry Date" [dataType]="'date'" [format]="{ type: 'shortDate' }" [width]="150"></dxi-column>

    <!-- Edit and Delete Buttons -->
    <dxi-column caption="View Detail" [width]="130" [cellTemplate]="'editButtonTemplate'" >
      <div *dxTemplate="let data of 'editButtonTemplate'">
        <button class="btn btn-success" (click)="navigateToDetail(data)" >View Detail</button>
      </div>
    </dxi-column>

<!--    <dxi-column caption="Delete" [width]="90" [cellTemplate]="'deleteButtonTemplate'" >-->
<!--      <div *dxTemplate="let data of 'deleteButtonTemplate'">-->
<!--        <button class="btn btn-danger">Delete</button>-->
<!--      </div>-->
<!--    </dxi-column>-->

  </dx-data-grid>

</div>
