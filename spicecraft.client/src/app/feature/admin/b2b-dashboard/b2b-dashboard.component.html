<div class="p-4">
  <sc-title [title]="'Dashboard'"></sc-title>
</div>

<div>
  <div class="container">
    <!-- Welcome Message -->
    <p class="display-6 text-center fs-3 text-bg-success rounded py-2">
      <img *ngIf="profileImage" class="dashboard-profile-img" [src]="profileImage" />
      Welcome {{ currentUserName }}, Have a good day
    </p>

    <!-- Dashboard Cards -->
    <div class="row justify-content-center p-3">

      <div class="col-3">
        <div class="card bg-twilight rounded link-box">
          <div class="card-header text-white fw-light">New Messages</div>
          <div class="card-body">
            <h5 class="card-title text-center text-white fw-light">
              <a class="text-white text-decoration-none" [routerLink]="['/enquiry']">
                {{ newMessagesCount ? newMessagesCount + " New Messages" : "No New Messages" }}
              </a>
            </h5>
          </div>
        </div>
      </div>

      <div class="col-3">
        <div class="card bg-twilight rounded link-box">
          <div class="card-header text-white fw-light">Last 7 days Orders</div>
          <div class="card-body">
            <h5 class="card-title text-center text-white fw-light">
              <a class="text-white text-decoration-none" [routerLink]="['/order']">
                {{ last7dayOrdersCount ? last7dayOrdersCount + " Orders" : "No orders for last 7 days" }}
              </a>
            </h5>
          </div>
        </div>
      </div>

      <div class="col-3">
        <div class="card bg-twilight rounded link-box">
          <div class="card-header text-white fw-light">Unshipped Orders</div>
          <div class="card-body">
            <h5 class="card-title text-center text-white fw-light">
              <a class="text-white text-decoration-none" [routerLink]="['/order']">
                {{ unshippedOrdersCount ? unshippedOrdersCount + " Orders" : "No Unshipped Orders" }}
              </a>
            </h5>
          </div>
        </div>
      </div>

      <div class="col-3">
        <div class="card bg-twilight rounded link-box">
          <div class="card-header text-white fw-light">Low stock Items</div>
          <div class="card-body">
            <h5 class="card-title text-center text-white fw-light">
              <a class="text-white text-decoration-none" [routerLink]="['/inventory']">
                {{ lowStockProducts ? lowStockProducts + " Products in low stock" : "No Products in low stock" }}
              </a>
            </h5>
          </div>
        </div>
      </div>
    </div>


    <div class="container-fluid mt-4">
      <!-- Row for Key Metrics -->
      <div class="row">
        <!-- Today's Orders -->
        <div class="col-md-3">
          <div class="card text-white bg-info mb-3">
            <div class="card-header">Today's Orders</div>
            <div class="card-body">
              <h5 class="card-title">{{ todaysOrders }}</h5>
            </div>
          </div>
        </div>

        <!-- Orders to Be Shipped -->
        <div class="col-md-3">
          <div class="card text-white bg-warning mb-3">
            <div class="card-header">Orders to Be Shipped</div>
            <div class="card-body">
              <h5 class="card-title">{{ ordersToShip }}</h5>
            </div>
          </div>
        </div>

        <!-- Total Sales Today -->
        <div class="col-md-3">
          <div class="card text-white bg-success mb-3">
            <div class="card-header">Total Sales Today</div>
            <div class="card-body">
              <h5 class="card-title">{{ totalSalesToday | currency }}</h5>
            </div>
          </div>
        </div>

        <!-- Total Sales This Month -->
        <div class="col-md-3">
          <div class="card text-white bg-primary mb-3">
            <div class="card-header">Total Sales This Month</div>
            <div class="card-body">
              <h5 class="card-title">{{ totalSalesMonth | currency }}</h5>
            </div>
          </div>
        </div>
      </div>

      <!-- Row for Low Stock Ingredients -->
      <div class="row mt-4">
        <div class="col-12">
          <h3>Ingredients Running Out of Stock</h3>
          <dx-data-grid
            [dataSource]="lowStockIngredients"
            [showBorders]="true"
            [paging]="{ pageSize: 10 }"
            [height]="400"
          >
            <dxi-column dataField="ingredientName" caption="Ingredient"></dxi-column>
            <dxi-column dataField="currentStock" caption="Current Stock"></dxi-column>
            <dxi-column dataField="reorderLevel" caption="Reorder Level"></dxi-column>
          </dx-data-grid>
        </div>
      </div>
    </div>


    <!-- Handy Links Section -->
    <div class="row justify-content-center p-3">
      <p class="text-center text-secondary display-6">Some Handy Links</p>
      <div class="row justify-content-center p-3">
        <div class="col-3">
          <a class="text-white text-decoration-none" [routerLink]="['/profile']">
            <div class="bg-steel-blue p-4 rounded link-box">
              <p class="display-6 fs-4 text-center text-white">My Profile</p>
            </div>
          </a>
        </div>
        <div class="col-3">
          <a class="text-white text-decoration-none" [routerLink]="['/item-list']">
            <div class="bg-green p-4 rounded link-box">
              <p class="display-6 fs-4 text-center text-white">Items</p>
            </div>
          </a>
        </div>
        <div class="col-3">
          <a class="text-white text-decoration-none" [routerLink]="['/order']">
            <div class="bg-slate-black p-4 rounded link-box">
              <p class="display-6 fs-4 text-center text-white">Orders</p>
            </div>
          </a>
        </div>
        <div class="col-3">
          <a class="text-white text-decoration-none" [routerLink]="['/enquiry']">
            <div class="bg-rose p-4 rounded link-box">
              <p class="display-6 fs-4 text-center text-white">Enquiry</p>
            </div>
          </a>
        </div>
      </div>

      <div class="row justify-content-center p-3">
        <div class="col-3">
          <a class="text-white text-decoration-none" [routerLink]="['/inventory']">
            <div class="bg-twilight p-4 rounded link-box">
              <p class="display-6 fs-4 text-center text-white">Inventory</p>
            </div>
          </a>
        </div>
        <div class="col-3">
          <a class="text-white text-decoration-none" [routerLink]="['/payment']">
            <div class="bg-coffee p-4 rounded link-box">
              <p class="display-6 fs-4 text-center text-white">Payments</p>
            </div>
          </a>
        </div>
        <div class="col-3">
          <a class="text-white text-decoration-none" [routerLink]="['/promotion']">
            <div class="bg-steel-blue p-4 rounded link-box">
              <p class="display-6 fs-4 text-center text-white">Promotions</p>
            </div>
          </a>
        </div>
      </div>

      <div class="row justify-content-center p-3">
        <div class="col-3">
          <a class="text-white text-decoration-none" [routerLink]="['/customer']">
            <div class="bg-green p-4 rounded link-box">
              <p class="display-6 fs-4 text-center text-white">View Customers</p>
            </div>
          </a>
        </div>
        <div class="col-3">
          <a class="text-white text-decoration-none" [routerLink]="['/home']">
            <div class="bg-orange p-4 rounded link-box">
              <p class="display-6 fs-4 text-center text-white">Home</p>
            </div>
          </a>
        </div>
      </div>
    </div>

    <!-- Today's Orders Section -->
<!--    <div class="row justify-content-center p-3">-->
<!--      <p class="text-center display-6 text-secondary">Today's Orders</p>-->
<!--      &lt;!&ndash; Replace render_table with Angular table component or directive &ndash;&gt;-->
<!--      <app-orders-table [orders]="todayOrders" [actionButtons]="[{ text: 'View Detail', link: '/order/detail', queryParamKey: 'order_id' }]"></app-orders-table>-->
<!--    </div>-->

<!--    &lt;!&ndash; Unshipped Orders Section &ndash;&gt;-->
<!--    <div class="row justify-content-center p-3">-->
<!--      <p class="text-center display-6 text-secondary">Unshipped Orders</p>-->
<!--      &lt;!&ndash; Replace render_table with Angular table component or directive &ndash;&gt;-->
<!--      <app-orders-table [orders]="unshippedOrders" [actionButtons]="[{ text: 'View Detail', link: '/order/detail', queryParamKey: 'order_id' }]"></app-orders-table>-->
<!--    </div>-->
  </div>

</div>
